CREATE TABLE SCM_PURCHASE_DEMAND_ACCOUNT
(
DEMAND_ACCOUNT_SNO NUMBER(10) CONSTRAINT PK_SCM_PURCHASE_DEMAND_ACCOUNT PRIMARY KEY,
demand_lines_sno NUMBER(10) NOT NULL,
QUANTITY NUMBER(16,6) NOT NULL,
CHART_OF_ACCOUNT_ID NUMBER(10) NOT NULL,
created_by NUMBER(10) NOT NULL, 
CREATED_DATE DATE NOT NULL, 
LAST_UPDATED_BY NUMBER(10), 
LAST_UPDATED_DATE DATE
)


USE `erporacle`;
DROP procedure IF EXISTS `proc_get_sequence_no`;

DELIMITER //
CREATE PROCEDURE `proc_get_sequence_no` (IN p_table_name varchar(30),out p_sequence_no int)
BEGIN

insert into scm_order_type_seq (created_date) VALUES (SYSDATE()) ;
SELECT LAST_INSERT_ID() INTO p_sequence_no;
END //
DELIMITER ;
select * from scm_order_type order by 1 desc
select sysdate()
create table scm_order_type_seq(
sequence_no int ,
created_date datetime, constraint pk_scm_order_type_seq primary key(sequence_no))

create table scm_order_type_seq(
sequence_no int ,
created_date datetime, constraint pk_scm_order_type_seq primary key(sequence_no))

SELECT * from scm_order_type_seq
DELETE FROM scm_order_type_seq WHERE sequence_no >0
insert into scm_order_type_seq (created_date) values(sysdate() );

insert into scm_order_type_seq (created_date) VALUES (SYSDATE()) 

CALL proc_get_sequence_no('scm_order_type_seq',@MYSEQ);
SELECT @MYSEQ

SELECT LAST_INSERT_ID()

#{item.bindings.EmpBranch.inputValue}


create or replace PROCEDURE proc_get_sequence_no(p_sequence_name IN  varchar,p_sequence_no out int) as

BEGIN
-- in oracle p_sequence_name
-- in mysql it will be table name
	execute immediate 'SELECT '||p_sequence_name||'.nextval from dual ' into p_sequence_no;
END;



CREATE TABLE scm_category_tax_rate_seq(sequence_no INT, 
                                        CREATED_DATE DATETIME, 
                                        constraint PK_scm_category_tax_rate_seq primary key(sequence_no)
                                        );

ALTER TABLE `erporacle`.`scm_category_tax_rate_seq` 
CHANGE COLUMN `sequence_no` `sequence_no` INT(11) NOT NULL AUTO_INCREMENT ;
                                        
CREATE TABLE scm_customer_sites_seq(sequence_no INT, 
                                        CREATED_DATE DATETIME, 
                                        constraint PK_scm_customer_sites primary key(sequence_no)
                                        );

ALTER TABLE `erporacle`.`scm_customer_sites_seq` 
CHANGE COLUMN `sequence_no` `sequence_no` INT(11) NOT NULL AUTO_INCREMENT ;

create sequence scm_ordeR_type_seq start with 1;

                                        
                                        